[![Shahrekord University](https://img.shields.io/badge/-Shahrekord%20University-08457c.svg?style=flat-square&logo=data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgaWQ9InN2ZzgiCiAgIHZlcnNpb249IjEuMSIKICAgdmlld0JveD0iMCAwIDE2LjE4MDQxNiAxMy43MDI4NjgiCiAgIGhlaWdodD0iMTMuNzAyODY4bW0iCiAgIHdpZHRoPSIxNi4xODA0MTZtbSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ic2t1LnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45Mi4yIDVjM2U4MGQsIDIwMTctMDgtMDYiPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTI4MCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI3NTYiCiAgICAgaWQ9Im5hbWVkdmlldzciCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOm1lYXN1cmUtc3RhcnQ9IjkuMjExNDcsNDYuNDYyOSIKICAgICBpbmtzY2FwZTptZWFzdXJlLWVuZD0iMC41LDQ2LjUiCiAgICAgaW5rc2NhcGU6em9vbT0iNS42NTY4NTQyIgogICAgIGlua3NjYXBlOmN4PSIzMy44MjI4ODUiCiAgICAgaW5rc2NhcGU6Y3k9IjUuODI4NzAyNiIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzgiCiAgICAgZml0LW1hcmdpbi10b3A9IjAiCiAgICAgZml0LW1hcmdpbi1sZWZ0PSIwIgogICAgIGZpdC1tYXJnaW4tcmlnaHQ9IjAiCiAgICAgZml0LW1hcmdpbi1ib3R0b209IjAiIC8+CiAgPGRlZnMKICAgICBpZD0iZGVmczIiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPHBhdGgKICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC4yNTQ2Nzk3MTtzdHJva2Utb3BhY2l0eToxIgogICAgIGQ9Im0gMC4yMzI0ODM5OSw3LjUyODk0MiBhIDAuNzkzNzQ5OTksMC43OTM3NDk5OSAwIDAgMCAwLDEuMTIyNTMyIEwgMy4wMzg4MTQsMTEuNDU3ODA0IDQuNzIyNjEyLDkuNzc0MDA2IDMuMDM4ODE0LDguMDkwMjA4IDUuMjgzODc4LDUuODQ1MTQ0IDMuNjAwMDgsNC4xNjEzNDYgWiBNIDUuMjgzODc4LDUuODQ1MTQ0IDcuNTI4OTQyLDguMDkwMjA4IDUuMjgzODc4LDEwLjMzNTI3MiAzLjYwMDA4LDEyLjAxOTA3IGwgMS42ODM3OTgsMS42ODM3OTggMi44MDYzMywtMi44MDYzMyAyLjgwNjMzLDIuODA2MzMgTCAxMi41ODAzMzYsMTIuMDE5MDcgMTAuODk2NTM4LDEwLjMzNTI3MiA4LjY1MTQ3NCw4LjA5MDIwOCAxMC44OTY1MzgsNS44NDUxNDQgMTAuMzM1MjcyLDUuMjgzODc4IDguMDkwMjA4LDcuNTI4OTQyIDUuODQ1MTQ0LDUuMjgzODc4IFogTSA1Ljg0NTE0NCw1LjI4Mzg3OCA4LjA5MDIwOCwzLjAzODgxNCAxMC4zMzUyNzIsNS4yODM4NzggMTIuMDE5MDcsMy42MDAwOCA4LjY1MTQ3NCwwLjIzMjQ4Mzk5IGEgMC43OTM3NDk5OSwwLjc5Mzc0OTk5IDAgMCAwIC0xLjEyMjUzMiwwIEwgNC4xNjEzNDYsMy42MDAwOCBaIG0gNS4wNTEzOTQsMC41NjEyNjYgMi4yNDUwNjQsMi4yNDUwNjQgLTEuNjgzNzk4LDEuNjgzNzk4IDEuNjgzNzk4LDEuNjgzNzk4IDIuODA2MzMsLTIuODA2MzMgYSAwLjc5Mzc0OTk5LDAuNzkzNzQ5OTkgMCAwIDAgMCwtMS4xMjI1MzIgTCAxMi41ODAzMzYsNC4xNjEzNDYgWiIKICAgICBpZD0icmVjdDkzNSIKICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIiAvPgo8L3N2Zz4K)](https://sku.ac.ir)

# SESS Web Service

a simple client for communicating with <https://sess.sku.ac.ir> WSDL-SOAP-based web services

## Methods

First, you should get a key by calling `GetKey`. Then you should call `Login`. For every operation you should make a result list on server by `SetList` and get its elements part by part.

Response of each method is in form of `Code&Key[&Res]`. Response code `000` means success, while any other response code means occurrence of error. (See [Error Codes](#error-codes).)  
In each method invocation, except `GetKey`, you should use `MD5(KeyOfPreviosMethodCall + MD5(Password))` as `Pass` parameter. Calling `GetKey` doesn't need any `Pass` parameter.

### `GetKey`

```XML
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tem="http://tempuri.org/">
   <soapenv:Header/>
   <soapenv:Body>
      <tem:GetKey>
         <tem:UserId>?</tem:UserId>
      </tem:GetKey>
   </soapenv:Body>
</soapenv:Envelope>
```

### `Login`

```XML
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tem="http://tempuri.org/">
   <soapenv:Header/>
   <soapenv:Body>
      <tem:Login>
         <tem:UserId>?</tem:UserId>
         <tem:Pass>?</tem:Pass>
         <tem:Gate>?</tem:Gate>
      </tem:Login>
   </soapenv:Body>
</soapenv:Envelope>
```

### `SetList`

```XML
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tem="http://tempuri.org/">
   <soapenv:Header/>
   <soapenv:Body>
      <tem:SetList>
         <tem:UserId>?</tem:UserId>
         <tem:Pass>?</tem:Pass>
         <tem:Condition>?</tem:Condition>
      </tem:SetList>
   </soapenv:Body>
</soapenv:Envelope>
```

### `GetList`

```XML
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:tem="http://tempuri.org/">
   <soapenv:Header/>
   <soapenv:Body>
      <tem:GetList>
         <tem:UserId>?</tem:UserId>
         <tem:Pass>?</tem:Pass>
         <tem:Start>?</tem:Start>
         <tem:Count>?</tem:Count>
      </tem:GetList>
   </soapenv:Body>
</soapenv:Envelope>
```

## Web-services

### StdService

Get information about students.

For more details, please review the [web-service docs](https://sess.sku.ac.ir/sess/WebServices/StdService.asmx) or [its WSDL version](https://sess.sku.ac.ir/sess/WebServices/StdService.asmx?WSDL).

#### Gates

##### PersonalInfo

Returns `NationalCode`, `SID`, `FirstName`, `LastName`, `Email`, `Level`, `FieldName`, `CurrentAcadState`, `Intrant`, and `ExitSemester`of students matching condition, in a CSV-like format.

## Error Codes

### `GetKey`

| Error Code | Detail |
| :--------- | -----: |
| `001`      | ‫کاربر وجود ندارد یا مجوز اتصال به وب سرویس را ندارد.‬ |

### `Login`

| Error Code | Detail |
| :--------- | -----: |
| `001`      | ‫وب سرویس یافت نشد.‬ |
| `002`      | ‫کاربر مجوز استفاده از این وب سرویس را ندارد.‬ |
| `064`      | ‫شناسه کاربری یا کلمه رمز غلط است.‬ |

### `SetList`

| Error Code | Detail |
| :--------- | -----: |
| `001`      | ‫کاربر به این وب سرویس وارد نشده است.‬ |
| `002`      | ‫کاربر مجوز استفاده از این وب سرویس را ندارد.‬ |
| `003`      | ‫عبارت جستجو نباید شامل حروف کنترل باشد.‬ |
| `004`      | ‫متن خطای داخلی‬ |
| `064`      | ‫شناسه کاربری یا کلمه رمز غلط است.‬ |

### `GetList`

| Error Code | Detail |
| :--------- | -----: |
| `001`      | ‫کاربر به این وب سرویس وارد نشده است.‬ |
| `002`      | ‫کاربر مجوز استفاده از این وب سرویس را ندارد.‬ |
| `003`      | ‫عملیات جستجو انجام نشده است.‬ |
| `064`      | ‫شناسه کاربری یا کلمه رمز غلط است.‬ |
